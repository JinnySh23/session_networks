## Задание 1

Выделен сетевой сегмент класса C – 192.168.2.0 /24. Используйте VSLM для назначения IP-адресов четырем подсетям. К маршрутизатору A подключены сети, состоящие из 15 и 7 хостов, а к маршрутизатору B подлючены сети из 10 и 5 хостов.

## Решение

### **Анализ требований**

Нам дан сетевой сегмент: **192.168.2.0 /24** у которого:

- **IP-адрес сети**: 192.168.2.0;

- **Маска**: 255.255.255.0 (/24);

- **Общее количество адресов**: 256 (из них 254 для хостов);

- **Диапазон адресов**: 192.168.2.0 - 192.168.2.255;

Требуется создать 4 подсети с разным количеством хостов:

- **Подсеть A1:** 15 хостов;

- **Подсеть A2:** 7 хостов;

- **Подсеть B1:** 10 хостов;

- **Подсеть B2:** 5 хостов;

Стоит отметить, что для каждой подсети нам нужны адреса для самого сетевого адреса, широковещательного адреса и адресов хостов. Поэтому нам нужно резервировать адреса с **запасом**.

### **Расчет необходимого размера подсетей**

Формула для расчёта у нас следующая: **2^n - 2 >= количество_хостов**, где `n` — количество бит в маске, отведенных под хосты.

- **Для 15-ти хостов:** 2^n - 2 >= 15 → 2^n >= 17 → n = 5 (32 адреса). Маска: /32 (32 бита всего) - 5 (бит хостов) = **/27**

- **Для 10-ти хостов:** 2^n - 2 >= 10 → 2^n >= 12 → n = 4 (16 адресов). Маска: **/28**

- **Для 7-ти хостов:** 2^n - 2 >= 7 → 2^n >= 9 → n = 4 (16 адресов). Маска: **/28**

- **Для 5-ти хостов:** 2^n - 2 >= 5 → 2^n >= 7 → n = 3 (8 адресов). Маска: **/29**

Выделяем подсети, начиная с самой крупной (требующей больше всего адресов), чтобы избежать "дыр" в адресном пространстве.

### **Процесс разбиения (VLSM)**

**Исходная сеть:** 192.168.2.0/24

1. Сначала **выделяем подсеть для 15 хостов (A1, /27)**. Маска /27 делит сеть /24 на 8 подсетей по 32 адреса каждая. **Подсеть 0**: 192.168.2.0/27 (Адреса: 192.168.2.1 - 192.168.2.30). Выбираем эту подсеть для **A1**. Таким образом, сеть **A1** - 192.168.2.0/27, а её доступные адреса 192.168.2.1 - 192.168.2.30. 192.168.2.31 - **Broadcast**. Следовательно, следующая свободная подсеть для разбиения: **192.168.2.32/27**.

2. Делим 192.168.2.32/27 на более мелкие части. Эта сеть (/27) может быть разделена на две подсети /28 (по 16 адресов):
   
   - **Подсеть 1**: 192.168.2.32/28 (Адреса: 192.168.2.33 - 192.168.2.46);
   
   - **Подсеть 2**: 192.168.2.48/28 (Адреса: 192.168.2.49 - 192.168.2.62);

Тогда выделяем первую подсеть /28 (192.168.2.32/28) для 10 хостов - то есть для **B1**. Таким образом сеть **B1** - 192.168.2.32/28, а её доступные адреса 192.168.2.33 - 192.168.2.46. 192.168.2.47 - **Broadcast**. А оставшуюся подсеть 192.168.2.48/28 выделяем для 7 хостов, то есть для **A2**. Сеть **A2** теперь: 192.168.2.48/28. Её ддоступные адреса 192.168.2.49 - 192.168.2.62. 192.168.2.63 - **Broadcast**. Следовательно следующая свободная подсеть для разбиения: **192.168.2.64/27** (третья подсеть из первоначального разбиения /24 на /27).

3. Теперь делим 192.168.2.64/27 на более мелкие части. Разделим ее на подсети /29 (по 8 адресов). Из одной подсети /27 получится 8 подсетей /29.
   
   Выделяем первую подсеть /29 (192.168.2.64/29) для 5 хостов, то есть для **B2**. **Сеть B2:** 192.168.2.64/29, а её доступные адреса: 192.168.2.65 - 192.168.2.70. 192.168.2.71 - **Broadcast**.

Остальные адреса (192.168.2.72/29 - 192.168.2.248/29) остаются свободными для будущего использования.

### **Итоговая таблица назначения IP-адресов**

| Подсеть | Количество хостов | Сетевой адрес | Маска (/CIDR) | Маска (десятичная) | Диапазон доступных адресов | Broadcast адрес |
| ------- | ----------------- | ------------- |:-------------:| ------------------ | -------------------------- | --------------- |
| **A1**  | 15                | 192.168.2.0   | /27           | 255.255.255.224    | 192.168.2.1-192.168.2.30   | 192.168.2.31    |
| **B1**  | 10                | 192.168.2.32  | /28           | 255.255.255.240    | 192.168.2.33- 192.168.2.46 | 192.168.2.47    |
| **A2**  | 7                 | 192.168.2.48  | /28           | 255.255.255.240    | 192.168.2.49- 192.168.2.62 | 192.168.2.63    |
| **B2**  | 5                 | 192.168.2.64  | /29           | 255.255.255.248    | 192.168.2.65- 192.168.2.70 | 192.168.2.71    |

### **Визуализация сети**

```bash
                    Маршрутизатор A
                         |
        ------------------------------------
        |                                  |
 Подсеть A1 (192.168.2.0/27)    Подсеть A2 (192.168.2.48/28)
    15 хостов                       7 хостов


                    Маршрутизатор B
                         |
        ------------------------------------
        |                                  |
 Подсеть B1 (192.168.2.32/28)   Подсеть B2 (192.168.2.64/29)
    10 хостов                      5 хостов
```

Для связи между маршрутизаторами A и B (например, по технологии VLAN или через отдельный линк) можно было бы выделить еще одну маленькую подсеть (/30) из оставшегося пула адресов.
