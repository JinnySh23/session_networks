# Задание 2

Выделен сетевой сегмент класса C – 192.168.3.0 /24. Используйте VSLM для назначения IP-адресов трем подсетям. К маршрутизатору A подключены сети, состоящие из 20 и 10 хостов, а к маршрутизатору B подлючена сеть из 8 хостов.

## Решение

### **Анализ требований**

Исходная сеть: **192.168.3.0 /24**:

- Маска: 255.255.255.0;

- Диапазон адресов: 192.168.3.0 - 192.168.3.255;

- Доступно для подсетей: 254 адреса;

Требуется создать 3 подсети:

- **Подсеть A1:** 20 хостов;

- **Подсеть A2:** 10 хостов;

- **Подсеть B1:** 8 хостов;

### **Расчет необходимого размера подсетей**

Формула для расчёта: **2^n - 2 >= количество_хостов**

- **Для 20 хостов:** 2^n - 2 >= 20 → 2^n >= 22 → n = 5 (32 адреса). 
  
  **Маска: /27** (255.255.255.224);

- **Для 10 хостов:** 2^n - 2 >= 10 → 2^n >= 12 → n = 4 (16 адресов).
  
  **Маска: /28** (255.255.255.240);

- **Для 8 хостов:** 2^n - 2 >= 8 → 2^n >= 10 → n = 4 (16 адресов). 
  
  **Маска: /28** (255.255.255.240);

Далее выделяем подсети в порядке убывания размера: A1 (20) -> A2 (10) -> B1 (8).

### **Процесс разбиения (VLSM)**

**Исходная сеть:** 192.168.3.0/24

1. Сначала выделим подсеть для 20 хостов, для сети **A1**. **Сеть A1:** 192.168.3.0/27. Её доступные адреса: 192.168.3.1 - 192.168.3.30. 192.168.3.31 - **Broadcast**. Следующая свободная сеть для разбиения: **192.168.3.32/27**.

2. Поэтому делим сеть 192.168.3.32/27 на более мелкие (/28). Подсеть /27 можно разделить на 2 подсети /28 (по 16 адресов):
   
   - Подсеть 0: **192.168.3.32/28** (адреса .33 - .46);
   
   - Подсеть 1: **192.168.3.48/28** (адреса .49 - .62);
   
   Тогда выделяем первую подсеть /28 для 10 хостов для **A2**. **Сеть A2:** 192.168.3.32/28, а её доступные адреса: 192.168.3.33 - 192.168.3.46. 192.168.3.47 - **Broadcast**.
   А вторую подсеть выделяем /28 для 8 хостов, для сети **B1**. **Сеть B1:** 192.168.3.48/28. Её доступные адреса: 192.168.3.49 - 192.168.3.62. 192.168.3.63 - **Broadcast**.

Остаток адресного пространства (192.168.3.64/27 - 192.168.3.248/29) остается свободным для будущего расширения.

### **Итоговая таблица назначения IP-адресов**

| Подсеть | Количество хостов | Сетевой адрес | Маска (/CIDR) | Маска (десятичная) | Диапазон доступных адресов | Broadcast адрес |
| ------- | ----------------- | ------------- | ------------- | ------------------ | -------------------------- | --------------- |
| **A1**  | 20                | 192.168.3.0   | /27           | 255.255.255.224    | 192.168.3.1- 192.168.3.30  | 192.168.3.31    |
| **A2**  | 10                | 192.168.3.32  | /28           | 255.255.255.240    | 192.168.3.33- 192.168.3.46 | 192.168.3.47    |
| **B2**  | 8                 | 192.168.3.48  | /28           | 255.255.255.240    | 192.168.3.49- 192.168.3.62 | 192.168.3.63    |

### **Визуализация сети**

```bash
                Маршрутизатор A
                      |
        --------------------------------
        |                              |
 Подсеть A1 (192.168.3.0/27)    Подсеть A2 (192.168.3.32/28)
    20 хостов                     10 хостов


                    Маршрутизатор B
                           |
                           |
                 Подсеть B1 (192.168.3.48/28)
                        8 хостов
```

Для связи между маршрутизаторами A и B потребуется выделить отдельную маленькую подсеть (например, /30 из свободного диапазона 192.168.3.64/27), если это предусмотрено физической топологией.
